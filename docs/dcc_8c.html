<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>libgadu: Dokumentacja pliku dcc.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libgadu
   &#160;<span id="projectnumber">1.12.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Wygenerowano przez Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Szukaj');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Strona&#160;główna</span></a></li>
      <li><a href="pages.html"><span>Dodatkowe&#160;strony</span></a></li>
      <li><a href="modules.html"><span>Moduły</span></a></li>
      <li><a href="annotated.html"><span>Struktury&#160;Danych</span></a></li>
      <li class="current"><a href="files.html"><span>Pliki</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Szukaj" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>Lista&#160;plików</span></a></li>
      <li><a href="globals.html"><span>Globalne</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Struktury Danych</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Pliki</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Funkcje</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Zmienne</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Definicje typów</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Wyliczenia</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Wartości wyliczeń</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Definicje</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Grupay</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Strony</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Definicje</a> &#124;
<a href="#func-members">Funkcje</a>  </div>
  <div class="headertitle">
<div class="title">Dokumentacja pliku dcc.c</div>  </div>
</div><!--header-->
<div class="contents">

<p>Obsługa połączeń bezpośrednich do wersji Gadu-Gadu 6.x.  
<a href="#details">Więcej...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Definicje</h2></td></tr>
<tr class="memitem:a0a15db17ff584aced08c21c3602b3ed0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcc_8c.html#a0a15db17ff584aced08c21c3602b3ed0">gg_dcc_read</a>(fd, buf, size)</td></tr>
<tr class="separator:a0a15db17ff584aced08c21c3602b3ed0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9b2e8d4a2519b209f0316552cc039ba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcc_8c.html#aa9b2e8d4a2519b209f0316552cc039ba">gg_dcc_write</a>(fd, buf, size)</td></tr>
<tr class="separator:aa9b2e8d4a2519b209f0316552cc039ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Funkcje</h2></td></tr>
<tr class="memitem:aae3d6d05903413f0e00b2274717de998"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcc_8c.html#aae3d6d05903413f0e00b2274717de998">gg_dcc_debug_data</a> (const char *prefix, int fd, const void *buf, unsigned int size)</td></tr>
<tr class="separator:aae3d6d05903413f0e00b2274717de998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2a4b4a2ad85a06ba5f2e9c451dc29b6f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcc6.html#ga2a4b4a2ad85a06ba5f2e9c451dc29b6f">gg_dcc_request</a> (struct <a class="el" href="structgg__session.html">gg_session</a> *sess, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> uin)</td></tr>
<tr class="memdesc:ga2a4b4a2ad85a06ba5f2e9c451dc29b6f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wysyła żądanie zwrotnego połączenia bezpośredniego.  <a href="group__dcc6.html#ga2a4b4a2ad85a06ba5f2e9c451dc29b6f">Więcej...</a><br/></td></tr>
<tr class="separator:ga2a4b4a2ad85a06ba5f2e9c451dc29b6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a717306df8c9b2ddc61e3dc9dc071f62f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcc_8c.html#a717306df8c9b2ddc61e3dc9dc071f62f">gg_dcc_fill_filetime</a> (uint32_t ut, uint32_t *ft)</td></tr>
<tr class="separator:a717306df8c9b2ddc61e3dc9dc071f62f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae3da65bbe7c3218cb2e502f021032b68"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcc6.html#gae3da65bbe7c3218cb2e502f021032b68">gg_dcc_fill_file_info</a> (struct <a class="el" href="structgg__dcc.html">gg_dcc</a> *d, const char *filename)</td></tr>
<tr class="memdesc:gae3da65bbe7c3218cb2e502f021032b68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wypełnia pola struktury <code><a class="el" href="structgg__dcc.html" title="Połączenie bezpośrednie do wersji Gadu-Gadu 6.x. ">gg_dcc</a></code> niezbędne do wysłania pliku.  <a href="group__dcc6.html#gae3da65bbe7c3218cb2e502f021032b68">Więcej...</a><br/></td></tr>
<tr class="separator:gae3da65bbe7c3218cb2e502f021032b68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb0489366604e61863ca167173f16076"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcc6.html#gacb0489366604e61863ca167173f16076">gg_dcc_fill_file_info2</a> (struct <a class="el" href="structgg__dcc.html">gg_dcc</a> *d, const char *filename, const char *local_filename)</td></tr>
<tr class="memdesc:gacb0489366604e61863ca167173f16076"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wypełnia pola struktury <code><a class="el" href="structgg__dcc.html" title="Połączenie bezpośrednie do wersji Gadu-Gadu 6.x. ">gg_dcc</a></code> niezbędne do wysłania pliku.  <a href="group__dcc6.html#gacb0489366604e61863ca167173f16076">Więcej...</a><br/></td></tr>
<tr class="separator:gacb0489366604e61863ca167173f16076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3829da44453c5964c27acba0e79f0cd"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structgg__dcc.html">gg_dcc</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcc_8c.html#ab3829da44453c5964c27acba0e79f0cd">gg_dcc_transfer</a> (uint32_t ip, uint16_t port, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> my_uin, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> peer_uin, int type)</td></tr>
<tr class="separator:ab3829da44453c5964c27acba0e79f0cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab71b56ab1af27f6c9c45d03d43effea5"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structgg__dcc.html">gg_dcc</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcc6.html#gab71b56ab1af27f6c9c45d03d43effea5">gg_dcc_get_file</a> (uint32_t ip, uint16_t port, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> my_uin, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> peer_uin)</td></tr>
<tr class="memdesc:gab71b56ab1af27f6c9c45d03d43effea5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rozpoczyna odbieranie pliku przez zwrotne połączenie bezpośrednie.  <a href="group__dcc6.html#gab71b56ab1af27f6c9c45d03d43effea5">Więcej...</a><br/></td></tr>
<tr class="separator:gab71b56ab1af27f6c9c45d03d43effea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e87148a79e8efa4890be95860c425f4"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structgg__dcc.html">gg_dcc</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcc6.html#ga9e87148a79e8efa4890be95860c425f4">gg_dcc_send_file</a> (uint32_t ip, uint16_t port, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> my_uin, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> peer_uin)</td></tr>
<tr class="memdesc:ga9e87148a79e8efa4890be95860c425f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rozpoczyna wysyłanie pliku.  <a href="group__dcc6.html#ga9e87148a79e8efa4890be95860c425f4">Więcej...</a><br/></td></tr>
<tr class="separator:ga9e87148a79e8efa4890be95860c425f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga53ac68b8f631a7dff70ba75363a15b2e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structgg__dcc.html">gg_dcc</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcc6.html#ga53ac68b8f631a7dff70ba75363a15b2e">gg_dcc_voice_chat</a> (uint32_t ip, uint16_t port, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> my_uin, <a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> peer_uin)</td></tr>
<tr class="memdesc:ga53ac68b8f631a7dff70ba75363a15b2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rozpoczyna połączenie głosowe.  <a href="group__dcc6.html#ga53ac68b8f631a7dff70ba75363a15b2e">Więcej...</a><br/></td></tr>
<tr class="separator:ga53ac68b8f631a7dff70ba75363a15b2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b05f4bc46937c62e0794af8b344d9b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcc6.html#ga2b05f4bc46937c62e0794af8b344d9b4">gg_dcc_set_type</a> (struct <a class="el" href="structgg__dcc.html">gg_dcc</a> *d, int type)</td></tr>
<tr class="memdesc:ga2b05f4bc46937c62e0794af8b344d9b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ustawia typ przychodzącego połączenia bezpośredniego.  <a href="group__dcc6.html#ga2b05f4bc46937c62e0794af8b344d9b4">Więcej...</a><br/></td></tr>
<tr class="separator:ga2b05f4bc46937c62e0794af8b344d9b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e21c1d941fb9471ad0a119779a807ae"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dcc_8c.html#a6e21c1d941fb9471ad0a119779a807ae">gg_dcc_callback</a> (struct <a class="el" href="structgg__dcc.html">gg_dcc</a> *d)</td></tr>
<tr class="separator:a6e21c1d941fb9471ad0a119779a807ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f9f10d4d70adeed7e76423fc047c95e"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structgg__dcc.html">gg_dcc</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcc6.html#ga1f9f10d4d70adeed7e76423fc047c95e">gg_dcc_socket_create</a> (<a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a> uin, uint16_t port)</td></tr>
<tr class="memdesc:ga1f9f10d4d70adeed7e76423fc047c95e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tworzy gniazdo nasłuchujące dla połączeń bezpośrednich.  <a href="group__dcc6.html#ga1f9f10d4d70adeed7e76423fc047c95e">Więcej...</a><br/></td></tr>
<tr class="separator:ga1f9f10d4d70adeed7e76423fc047c95e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3ec32ead7968e434b54354fe457a8fe1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcc6.html#ga3ec32ead7968e434b54354fe457a8fe1">gg_dcc_voice_send</a> (struct <a class="el" href="structgg__dcc.html">gg_dcc</a> *d, char *buf, int length)</td></tr>
<tr class="memdesc:ga3ec32ead7968e434b54354fe457a8fe1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wysyła ramkę danych połączenia głosowego.  <a href="group__dcc6.html#ga3ec32ead7968e434b54354fe457a8fe1">Więcej...</a><br/></td></tr>
<tr class="separator:ga3ec32ead7968e434b54354fe457a8fe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9804ea6dffcb077cd5f7a90d4120dc9b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structgg__event.html">gg_event</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcc6.html#ga9804ea6dffcb077cd5f7a90d4120dc9b">gg_dcc_watch_fd</a> (struct <a class="el" href="structgg__dcc.html">gg_dcc</a> *h)</td></tr>
<tr class="memdesc:ga9804ea6dffcb077cd5f7a90d4120dc9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Funkcja wywoływana po zaobserwowaniu zmian na deskryptorze połączenia.  <a href="group__dcc6.html#ga9804ea6dffcb077cd5f7a90d4120dc9b">Więcej...</a><br/></td></tr>
<tr class="separator:ga9804ea6dffcb077cd5f7a90d4120dc9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5d4489eadc5c531a60a9905894fda6b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__dcc6.html#ga5d4489eadc5c531a60a9905894fda6b3">gg_dcc_free</a> (struct <a class="el" href="structgg__dcc.html">gg_dcc</a> *d)</td></tr>
<tr class="memdesc:ga5d4489eadc5c531a60a9905894fda6b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Zwalnia zasoby używane przez połączenie bezpośrednie.  <a href="group__dcc6.html#ga5d4489eadc5c531a60a9905894fda6b3">Więcej...</a><br/></td></tr>
<tr class="separator:ga5d4489eadc5c531a60a9905894fda6b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Opis szczegółowy</h2>
<div class="textblock"><p>Obsługa połączeń bezpośrednich do wersji Gadu-Gadu 6.x. </p>
</div><h2 class="groupheader">Dokumentacja definicji</h2>
<a class="anchor" id="a0a15db17ff584aced08c21c3602b3ed0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gg_dcc_read</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fd, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Wartość:</b><div class="fragment"><div class="line">{ \</div>
<div class="line">        int _tmp = recv(fd, buf, size, 0); \</div>
<div class="line">        \</div>
<div class="line">        if (_tmp &lt; (<span class="keywordtype">int</span>) size) { \</div>
<div class="line">                if (_tmp == -1) { <a class="code" href="group__debug.html#ga04e37a5baf3dceb9bd20f9a0de2044a3">\</a></div>
<div class="line"><a class="code" href="group__debug.html#ga04e37a5baf3dceb9bd20f9a0de2044a3">			gg_debug</a>(<a class="code" href="group__debug.html#ga40e449afb3f941037e1227afe28ddace">GG_DEBUG_MISC</a>, <span class="stringliteral">&quot;// gg_dcc_watch_fd() recv() failed &quot;</span> \</div>
<div class="line">                                <span class="stringliteral">&quot;(errno=%d, %s)\n&quot;</span>, errno, strerror(errno)); \</div>
<div class="line">                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (_tmp == 0) { <a class="code" href="group__debug.html#ga04e37a5baf3dceb9bd20f9a0de2044a3">\</a></div>
<div class="line"><a class="code" href="group__debug.html#ga04e37a5baf3dceb9bd20f9a0de2044a3">			gg_debug</a>(<a class="code" href="group__debug.html#ga40e449afb3f941037e1227afe28ddace">GG_DEBUG_MISC</a>, <span class="stringliteral">&quot;// gg_dcc_watch_fd() recv() failed, &quot;</span> \</div>
<div class="line">                                <span class="stringliteral">&quot;connection broken\n&quot;</span>); \</div>
<div class="line">                } <span class="keywordflow">else</span> { <a class="code" href="group__debug.html#ga04e37a5baf3dceb9bd20f9a0de2044a3">\</a></div>
<div class="line"><a class="code" href="group__debug.html#ga04e37a5baf3dceb9bd20f9a0de2044a3">			gg_debug</a>(<a class="code" href="group__debug.html#ga40e449afb3f941037e1227afe28ddace">GG_DEBUG_MISC</a>, <span class="stringliteral">&quot;// gg_dcc_watch_fd() recv() failed &quot;</span> \</div>
<div class="line">                                <span class="stringliteral">&quot;(%d bytes, %&quot;</span> <a class="code" href="internal_8h.html#a165abaf45e29ff02a063af1eaf69b8c2">GG_SIZE_FMT</a> <span class="stringliteral">&quot; needed)\n&quot;</span>, \</div>
<div class="line">                                _tmp, size); \</div>
<div class="line">                } \</div>
<div class="line">                e-&gt;type = <a class="code" href="group__events.html#gga3dd02c0d2ff1d304d134f677faf66cfcaf5c56930008b944423b5ea3927520949">GG_EVENT_DCC_ERROR</a>; \</div>
<div class="line">                e-&gt;event.dcc_error = <a class="code" href="libgadu_8h.html#a8a7800a03f87e95ca36303f0cdf0d163a82b70a0c369d12697a1e90072080ccf9">GG_ERROR_DCC_HANDSHAKE</a>; \</div>
<div class="line">                return e; \</div>
<div class="line">        } <a class="code" href="dcc_8c.html#aae3d6d05903413f0e00b2274717de998">\</a></div>
<div class="line"><a class="code" href="dcc_8c.html#aae3d6d05903413f0e00b2274717de998">	gg_dcc_debug_data</a>(<span class="stringliteral">&quot;read&quot;</span>, fd, buf, size); \</div>
<div class="line">}</div>
<div class="ttc" id="group__debug_html_ga04e37a5baf3dceb9bd20f9a0de2044a3"><div class="ttname"><a href="group__debug.html#ga04e37a5baf3dceb9bd20f9a0de2044a3">gg_debug</a></div><div class="ttdeci">void gg_debug(int level, const char *format,...)</div><div class="ttdef"><b>Definition:</b> debug.c:123</div></div>
<div class="ttc" id="internal_8h_html_a165abaf45e29ff02a063af1eaf69b8c2"><div class="ttname"><a href="internal_8h.html#a165abaf45e29ff02a063af1eaf69b8c2">GG_SIZE_FMT</a></div><div class="ttdeci">#define GG_SIZE_FMT</div><div class="ttdef"><b>Definition:</b> internal.h:60</div></div>
<div class="ttc" id="group__debug_html_ga40e449afb3f941037e1227afe28ddace"><div class="ttname"><a href="group__debug.html#ga40e449afb3f941037e1227afe28ddace">GG_DEBUG_MISC</a></div><div class="ttdeci">#define GG_DEBUG_MISC</div><div class="ttdoc">Rejestracja różnych informacji. </div><div class="ttdef"><b>Definition:</b> libgadu.h:1588</div></div>
<div class="ttc" id="dcc_8c_html_aae3d6d05903413f0e00b2274717de998"><div class="ttname"><a href="dcc_8c.html#aae3d6d05903413f0e00b2274717de998">gg_dcc_debug_data</a></div><div class="ttdeci">static void gg_dcc_debug_data(const char *prefix, int fd, const void *buf, unsigned int size)</div><div class="ttdef"><b>Definition:</b> dcc.c:47</div></div>
<div class="ttc" id="libgadu_8h_html_a8a7800a03f87e95ca36303f0cdf0d163a82b70a0c369d12697a1e90072080ccf9"><div class="ttname"><a href="libgadu_8h.html#a8a7800a03f87e95ca36303f0cdf0d163a82b70a0c369d12697a1e90072080ccf9">GG_ERROR_DCC_HANDSHAKE</a></div><div class="ttdoc">Błąd negocjacji. </div><div class="ttdef"><b>Definition:</b> libgadu.h:950</div></div>
<div class="ttc" id="group__events_html_gga3dd02c0d2ff1d304d134f677faf66cfcaf5c56930008b944423b5ea3927520949"><div class="ttname"><a href="group__events.html#gga3dd02c0d2ff1d304d134f677faf66cfcaf5c56930008b944423b5ea3927520949">GG_EVENT_DCC_ERROR</a></div><div class="ttdoc">Błąd połączenia bezpośredniego (6.x) </div><div class="ttdef"><b>Definition:</b> libgadu.h:865</div></div>
</div><!-- fragment --><p>Odbiera dane z połączenia bezpośredniego z obsługą błędów.</p>
<dl class="params"><dt>Parametry</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>Deskryptor gniazda </td></tr>
    <tr><td class="paramname">buf</td><td>Bufor na dane </td></tr>
    <tr><td class="paramname">size</td><td>Rozmiar bufora na dane </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa9b2e8d4a2519b209f0316552cc039ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define gg_dcc_write</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fd, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">buf, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">size&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Wartość:</b><div class="fragment"><div class="line">{ \</div>
<div class="line">        int write_res; <a class="code" href="dcc_8c.html#aae3d6d05903413f0e00b2274717de998">\</a></div>
<div class="line"><a class="code" href="dcc_8c.html#aae3d6d05903413f0e00b2274717de998">	gg_dcc_debug_data</a>(<span class="stringliteral">&quot;write&quot;</span>, fd, buf, size); \</div>
<div class="line">        write_res = send(fd, buf, size, 0); \</div>
<div class="line">        if (write_res &lt; (<span class="keywordtype">int</span>) size) { \</div>
<div class="line">                if (write_res == -1) { <a class="code" href="group__debug.html#ga04e37a5baf3dceb9bd20f9a0de2044a3">\</a></div>
<div class="line"><a class="code" href="group__debug.html#ga04e37a5baf3dceb9bd20f9a0de2044a3">			gg_debug</a>(<a class="code" href="group__debug.html#ga40e449afb3f941037e1227afe28ddace">GG_DEBUG_MISC</a>, <span class="stringliteral">&quot;// gg_dcc_watch_fd() send() &quot;</span> \</div>
<div class="line">                                <span class="stringliteral">&quot;failed (errno=%d, %s)\n&quot;</span>, errno, strerror(errno)); \</div>
<div class="line">                } <span class="keywordflow">else</span> { <a class="code" href="group__debug.html#ga04e37a5baf3dceb9bd20f9a0de2044a3">\</a></div>
<div class="line"><a class="code" href="group__debug.html#ga04e37a5baf3dceb9bd20f9a0de2044a3">			gg_debug</a>(<a class="code" href="group__debug.html#ga40e449afb3f941037e1227afe28ddace">GG_DEBUG_MISC</a>, <span class="stringliteral">&quot;// gg_dcc_watch_fd() send() &quot;</span> \</div>
<div class="line">                                <span class="stringliteral">&quot;failed (%&quot;</span> <a class="code" href="internal_8h.html#a165abaf45e29ff02a063af1eaf69b8c2">GG_SIZE_FMT</a> <span class="stringliteral">&quot; needed, %d done)\n&quot;</span>, \</div>
<div class="line">                                size, write_res); \</div>
<div class="line">                } \</div>
<div class="line">                e-&gt;type = <a class="code" href="group__events.html#gga3dd02c0d2ff1d304d134f677faf66cfcaf5c56930008b944423b5ea3927520949">GG_EVENT_DCC_ERROR</a>; \</div>
<div class="line">                e-&gt;event.dcc_error = <a class="code" href="libgadu_8h.html#a8a7800a03f87e95ca36303f0cdf0d163a82b70a0c369d12697a1e90072080ccf9">GG_ERROR_DCC_HANDSHAKE</a>; \</div>
<div class="line">                return e; \</div>
<div class="line">        } \</div>
<div class="line">}</div>
<div class="ttc" id="group__debug_html_ga04e37a5baf3dceb9bd20f9a0de2044a3"><div class="ttname"><a href="group__debug.html#ga04e37a5baf3dceb9bd20f9a0de2044a3">gg_debug</a></div><div class="ttdeci">void gg_debug(int level, const char *format,...)</div><div class="ttdef"><b>Definition:</b> debug.c:123</div></div>
<div class="ttc" id="internal_8h_html_a165abaf45e29ff02a063af1eaf69b8c2"><div class="ttname"><a href="internal_8h.html#a165abaf45e29ff02a063af1eaf69b8c2">GG_SIZE_FMT</a></div><div class="ttdeci">#define GG_SIZE_FMT</div><div class="ttdef"><b>Definition:</b> internal.h:60</div></div>
<div class="ttc" id="group__debug_html_ga40e449afb3f941037e1227afe28ddace"><div class="ttname"><a href="group__debug.html#ga40e449afb3f941037e1227afe28ddace">GG_DEBUG_MISC</a></div><div class="ttdeci">#define GG_DEBUG_MISC</div><div class="ttdoc">Rejestracja różnych informacji. </div><div class="ttdef"><b>Definition:</b> libgadu.h:1588</div></div>
<div class="ttc" id="dcc_8c_html_aae3d6d05903413f0e00b2274717de998"><div class="ttname"><a href="dcc_8c.html#aae3d6d05903413f0e00b2274717de998">gg_dcc_debug_data</a></div><div class="ttdeci">static void gg_dcc_debug_data(const char *prefix, int fd, const void *buf, unsigned int size)</div><div class="ttdef"><b>Definition:</b> dcc.c:47</div></div>
<div class="ttc" id="libgadu_8h_html_a8a7800a03f87e95ca36303f0cdf0d163a82b70a0c369d12697a1e90072080ccf9"><div class="ttname"><a href="libgadu_8h.html#a8a7800a03f87e95ca36303f0cdf0d163a82b70a0c369d12697a1e90072080ccf9">GG_ERROR_DCC_HANDSHAKE</a></div><div class="ttdoc">Błąd negocjacji. </div><div class="ttdef"><b>Definition:</b> libgadu.h:950</div></div>
<div class="ttc" id="group__events_html_gga3dd02c0d2ff1d304d134f677faf66cfcaf5c56930008b944423b5ea3927520949"><div class="ttname"><a href="group__events.html#gga3dd02c0d2ff1d304d134f677faf66cfcaf5c56930008b944423b5ea3927520949">GG_EVENT_DCC_ERROR</a></div><div class="ttdoc">Błąd połączenia bezpośredniego (6.x) </div><div class="ttdef"><b>Definition:</b> libgadu.h:865</div></div>
</div><!-- fragment --><p>Wysyła dane do połączenia bezpośredniego z obsługą błędów.</p>
<dl class="params"><dt>Parametry</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>Deskryptor gniazda </td></tr>
    <tr><td class="paramname">buf</td><td>Bufor z danymi </td></tr>
    <tr><td class="paramname">size</td><td>Rozmiar bufora z danymi </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Dokumentacja funkcji</h2>
<a class="anchor" id="aae3d6d05903413f0e00b2274717de998"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void gg_dcc_debug_data </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Przekazuje zawartość pakietu do odpluskwiania.</p>
<dl class="params"><dt>Parametry</dt><dd>
  <table class="params">
    <tr><td class="paramname">prefix</td><td>Prefiks informacji </td></tr>
    <tr><td class="paramname">fd</td><td>Deskryptor gniazda </td></tr>
    <tr><td class="paramname">buf</td><td>Bufor z danumi </td></tr>
    <tr><td class="paramname">size</td><td>Rozmiar bufora z danymi </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a717306df8c9b2ddc61e3dc9dc071f62f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void gg_dcc_fill_filetime </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>ft</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Zamienia znacznik czasu w postaci uniksowej na format API WIN32.</p>
<dl class="section note"><dt>Nota</dt><dd>Funkcja działa jedynie gdy kompilator obsługuje typ danych <code>long</code> <code>long</code>.</dd></dl>
<dl class="params"><dt>Parametry</dt><dd>
  <table class="params">
    <tr><td class="paramname">ut</td><td>Czas w postaci uniksowej </td></tr>
    <tr><td class="paramname">ft</td><td>Czas w postaci API WIN32 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab3829da44453c5964c27acba0e79f0cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structgg__dcc.html">gg_dcc</a>* gg_dcc_transfer </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a>&#160;</td>
          <td class="paramname"><em>my_uin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libgadu_8h.html#a33f630ba74294027f9bcda26ed49cdc8">uin_t</a>&#160;</td>
          <td class="paramname"><em>peer_uin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Rozpoczyna połączenie bezpośrednie z danym klientem.</p>
<dl class="params"><dt>Parametry</dt><dd>
  <table class="params">
    <tr><td class="paramname">ip</td><td>Adres IP odbiorcy </td></tr>
    <tr><td class="paramname">port</td><td>Port odbiorcy </td></tr>
    <tr><td class="paramname">my_uin</td><td>Własny numer </td></tr>
    <tr><td class="paramname">peer_uin</td><td>Numer odbiorcy </td></tr>
    <tr><td class="paramname">type</td><td>Rodzaj połączenia (<code>GG_SESSION_DCC_SEND</code> lub <code>GG_SESSION_DCC_GET</code>)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Zwraca</dt><dd>Struktura <code><a class="el" href="structgg__dcc.html" title="Połączenie bezpośrednie do wersji Gadu-Gadu 6.x. ">gg_dcc</a></code> lub <code>NULL</code> w przypadku błędu </dd></dl>

</div>
</div>
<a class="anchor" id="a6e21c1d941fb9471ad0a119779a807ae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int gg_dcc_callback </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structgg__dcc.html">gg_dcc</a> *&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Funkcja zwrotna połączenia bezpośredniego.</p>
<p>Pole <code>callback</code> struktury <code><a class="el" href="structgg__dcc.html" title="Połączenie bezpośrednie do wersji Gadu-Gadu 6.x. ">gg_dcc</a></code> zawiera wskaźnik do tej funkcji. Wywołuje ona <code><a class="el" href="group__dcc6.html#ga9804ea6dffcb077cd5f7a90d4120dc9b" title="Funkcja wywoływana po zaobserwowaniu zmian na deskryptorze połączenia. ">gg_dcc_watch_fd()</a></code> i zachowuje wynik w polu <code>event</code>.</p>
<dl class="section note"><dt>Nota</dt><dd>Funkcjonalność funkcji zwrotnej nie jest już wspierana.</dd></dl>
<dl class="params"><dt>Parametry</dt><dd>
  <table class="params">
    <tr><td class="paramname">d</td><td>Struktura połączenia</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Zwraca</dt><dd>0 jeśli się powiodło, -1 w przypadku błędu </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Wygenerowano Śr, 1 lut 2017 09:11:02 dla libgadu programem &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
